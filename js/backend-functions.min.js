$j(document).ready(function(){$j(".qtranxs-translatable").on("keyup",function(){bookacti_update_qtx_field(this)});$j(".bookacti-tabs").tabs();$j(".bookacti-show-hide-advanced-options").on("click",function(a){bookacti_show_hide_advanced_options($j(this))});bookacti_init_tooltip();$j("#bookacti-dismiss-5stars-rating").on("click",function(){bookacti_dismiss_5stars_rating_notice()})});function bookacti_show_hide_advanced_options(a){a.closest("form").find(".bookacti-advanced-option").toggle();a.toggleClass("bookacti-show-advanced-options bookacti-hide-advanced-options");if(a.hasClass("bookacti-show-advanced-options")){a.html(a.data("show-title"))}else{if(a.hasClass("bookacti-hide-advanced-options")){a.html(a.data("hide-title"))}}}function bookacti_init_add_and_remove_items(){$j(".bookacti-items-container").on("click",".bookacti-add-items",function(d){var c=$j(this).parents(".bookacti-items-container");var b=c.find(".bookacti-add-new-items-select-box").is("[multiple]");var f=c.find(".bookacti-add-new-items-select-box").val();var a=f;if(!b){a=[f]}$j.each(a,function(g,e){c.find('.bookacti-add-new-items-select-box option[value="'+e+'"]').clone().appendTo(c.find(".bookacti-items-select-box"));c.find('.bookacti-add-new-items-select-box option[value="'+e+'"]').hide().attr("disabled",true);c.find(".bookacti-add-new-items-select-box").val(c.find(".bookacti-add-new-items-select-box option:enabled:first").val())})});$j(".bookacti-items-container").on("click",".bookacti-remove-items",function(g){var d=$j(this).parents(".bookacti-items-container");var c=d.data("type");var f="";if(c==="users"){f=bookacti_localized.current_user_id}else{if(c==="templates"){f=bookacti.selected_template}}var b=d.find(".bookacti-items-select-box").is("[multiple]");var h=d.find(".bookacti-items-select-box").val();var a=h;if(!b){a=[h]}$j.each(a,function(j,e){if(e!=f){d.find('.bookacti-items-select-box option[value="'+e+'"]').remove();d.find('.bookacti-add-new-items-select-box option[value="'+e+'"]').show().attr("disabled",false);d.find(".bookacti-add-new-items-select-box").val(e)}})})}function bookacti_init_tooltip(){$j(".bookacti-tip").tooltip({items:"[data-tip]",content:function(){return $j(this).data("tip")},show:{effect:"fadeIn",duration:200},hide:{effect:"fadeOut",duration:200},close:function(a,b){b.tooltip.hover(function(){$j(this).stop(true).fadeTo(200,1)},function(){$j(this).fadeOut("200",function(){$j(this).remove()})})}});$j(".bookacti-tip").tooltip("close")}function bookacti_empty_all_dialog_forms(a){a=typeof a==="undefined"||!a?"":a+" ";$j(a+".bookacti-backend-dialog .bookacti-form-error").remove();$j(a+'.bookacti-backend-dialog input[type="hidden"]:not([name^="nonce"]):not([name="_wp_http_referer"])').val("");$j(a+'.bookacti-backend-dialog input[type="text"]').val("");$j(a+'.bookacti-backend-dialog input[type="number"]').val("");$j(a+".bookacti-backend-dialog textarea").val("");$j(a+'.bookacti-backend-dialog input[type="color"]').val("#3a87ad");$j(a+'.bookacti-backend-dialog input[type="checkbox"]').attr("checked",false);$j(a+'.bookacti-backend-dialog input[type="radio"]').attr("checked",false);$j(a+".bookacti-backend-dialog option").prop("selected",false);$j(a+".bookacti-backend-dialog .exception").remove();$j(a+".bookacti-backend-dialog select.bookacti-add-new-items-select-box option").show().attr("disabled",false);$j(a+".bookacti-backend-dialog select.bookacti-items-select-box option").remove();if(tinyMCE){$j(a+"textarea.wp-editor-area").each(function(){var b=$j(this).attr("id");if(tinyMCE.get(b)){tinyMCE.get(b).setContent("")}})}}function bookacti_fill_fields_from_array(a,c,b){c=c||"";b=typeof b==="undefined"||!b?"":b+" ";$j.each(a,function(d,f){if(a[d]){var e=c?c+"["+d+"]":d;if($j.isPlainObject(f)){bookacti_fill_fields_from_array(f,e,b);return true}if($j(b+'input[type="checkbox"][name="'+e+'[]"]').length||$j(b+'input[type="checkbox"][name="'+e+'"]').length){if($j.isArray(f)){$j(b+'input[type="checkbox"][name="'+e+'[]"]').attr("checked",false);$j.each(f,function(j,h){$j(b+'input[type="checkbox"][name="'+e+'[]"][value="'+h+'"]').attr("checked",true)})}else{if(f==1){$j(b+'input[type="checkbox"][name="'+e+'"]').attr("checked",true)}else{$j(b+'input[type="checkbox"][name="'+e+'"]').attr("checked",false)}}}else{if($j(b+'input[name="'+e+'"]').is(":radio")){$j(b+'input[name="'+e+'"][value="'+f+'"]').prop("checked",true)}else{if($j(b+'select[name="'+e+'"]').length){$j(b+'select[name="'+e+'"] option[value="'+f+'"]').attr("selected",true)}else{if($j(b+'select[name="'+e+'[]"]').length){$j.each(f,function(h,j){$j(b+'select[name="'+e+'[]"] option[value="'+j+'"]').attr("selected",true)})}else{if($j(b+'input[name="'+e+'"]').attr("type")==="time"&&f==="24:00"){f="00:00"}$j(b+'input[name="'+e+'"]').val(f);$j(b+'textarea[name="'+e+'"]').val(f);if($j(b+'textarea[name="'+e+'"]').hasClass("wp-editor-area")&&tinyMCE){var g=$j(b+'textarea[name="'+e+'"]').attr("id");if(tinyMCE.get(g)){tinyMCE.get(g).setContent(f)}}}}}}}})}function bookacti_update_qtx_field(b){if(typeof qTranslateConfig!=="undefined"){var a=qTranslateConfig.js.get_qtx();var c=a.getActiveLanguage();var d=$j(b).attr("name");if(c!==undefined){$j('input[name="qtranslate-fields['+d+"]["+c+']"]').val($j(b).val())}}}function bookacti_refresh_qtx_field(b){if(typeof qTranslateConfig!=="undefined"){var a=qTranslateConfig.js.get_qtx();$j(b).removeClass("qtranxs-translatable");a.refreshContentHook(b);$j(b).addClass("qtranxs-translatable")}}function bookacti_dismiss_5stars_rating_notice(){$j(".bookacti-5stars-rating-notice").remove();$j.ajax({url:ajaxurl,type:"POST",data:{action:"bookactiDismiss5StarsRatingNotice",nonce:bookacti_localized.nonce_dismiss_5stars_rating_notice},dataType:"json",success:function(b){if(b.status==="failed"){var a=bookacti_localized.error_update_settings;if(b.error==="not_allowed"){a+="\n"+bookacti_localized.error_not_allowed}console.log(a);console.log(b)}},error:function(a){console.log(a)},complete:function(){}})};