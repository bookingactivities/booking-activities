$j(document).ready(function(){$j("body").on("bookacti_events_picked",".bookacti-booking-system",function(c,b,a,d){if($j(this).siblings(".bookacti-notices").length){$j(this).siblings(".bookacti-notices").empty()}});$j("body").on("bookacti_events_picked",".bookacti-booking-system",function(f,k,h,d){var a=$j(this);var i=a.attr("id");var c=bookacti.booking_system[i];bookacti_set_min_and_max_quantity(a);bookacti_fill_booking_system_fields(a);bookacti_fill_picked_events_list(a);if(!h&&c.when_perform_form_action==="on_event_click"){var b=bookacti_get_event_groups(a,k);var g=bookacti_get_event_groups_nb(b);var j=g>1||(g===1&&c.groups_single_events)?true:false;if(!j){bookacti_perform_form_action(a)}}a.trigger("bookacti_events_picked_after",[k,h,d])});$j("body").on("bookacti_group_of_events_chosen",".bookacti-booking-system",function(g,f,h,d){var b=$j(this);var a=b.attr("id");var c=bookacti.booking_system[a];if(c.when_perform_form_action==="on_event_click"){bookacti_perform_form_action(b)}b.trigger("bookacti_group_of_events_chosen_after",[f,h,d])});$j("body").on("click",".bookacti-unpick-event-icon",function(d){var b=$j(this).closest(".bookacti-picked-events").siblings(".bookacti-booking-system");var c=$j(this).closest("li").data("group-id");var f=$j(this).closest("li").data("group-date");if(c){bookacti_unpick_events(b,0,c,f);return}var a=$j(this).closest("li");event={id:a.data("event-id"),start:a.data("event-start"),end:a.data("event-end")};bookacti_unpick_events(b,event)});$j("body").on("bookacti_events_unpicked",".bookacti-booking-system",function(g,f,d,h){var b=$j(this);var a=b.attr("id");var c=bookacti.booking_system[a]["method"];bookacti_set_min_and_max_quantity(b);bookacti_fill_booking_system_fields(b);bookacti_fill_picked_events_list(b);if(c==="calendar"){bookacti_refresh_picked_events_on_calendar($j(this))}});$j("body").on("bookacti_booking_form_submitted","form.bookacti-temporary-form",function(b,a,c){if($j(this).find(".bookacti-form-fields").length){$j(this).find(".bookacti-form-fields").unwrap("form.bookacti-temporary-form")}});$j("body").on("bookacti_init_booking_sytem",".bookacti-booking-system#bookacti-booking-system-reschedule",function(c,b,a){b.load=false});$j("body").on("bookacti_event_mouse_over bookacti_event_touch_start",".bookacti-booking-system",function(h,b,g){var a=$j(this);var i=a.attr("id");var f=bookacti.booking_system[i];if(!f.tooltip_booking_list){return}var d=moment.utc(b.start).clone().locale("en").format("YYYY-MM-DD HH:mm:ss");if(typeof f.booking_lists[b.id]==="undefined"){return}if(typeof f.booking_lists[b.id][d]==="undefined"){return}var c=f.booking_lists[b.id][d];if(!c){return}var j=parseInt(bookacti_localized.bookings_tooltip_mouseover_timeout);if(j<0){return}if(typeof bookacti_remove_mouseover_tooltip_monitor!=="undefined"){if(bookacti_remove_mouseover_tooltip_monitor){clearTimeout(bookacti_remove_mouseover_tooltip_monitor)}}bookacti_display_bookings_tooltip_monitor=setTimeout(function(){a.siblings(".bookacti-tooltips-container").find(".bookacti-booking-list-tooltip.bookacti-tooltip-mouseover").remove();a.siblings(".bookacti-tooltips-container").append('<div class="bookacti-tooltip-container bookacti-booking-list-tooltip bookacti-tooltip-mouseover"><div class="bookacti-tooltip-content bookacti-custom-scrollbar">'+c+"</div></div>");var e=a.siblings(".bookacti-tooltips-container").find(".bookacti-booking-list-tooltip.bookacti-tooltip-mouseover");bookacti_set_tooltip_position(g,e,"above");$j("body").trigger("bookacti_event_booking_list_displayed",[e,a,b,g])},j)});$j("body").on("bookacti_event_mouse_out",".bookacti-booking-system",function(d,b,a){if(typeof bookacti_display_bookings_tooltip_monitor!=="undefined"){if(bookacti_display_bookings_tooltip_monitor){clearTimeout(bookacti_display_bookings_tooltip_monitor)}}var c=$j(this).siblings(".bookacti-tooltips-container").find(".bookacti-tooltip-mouseover");if(c.length){var f=Math.min(Math.max(parseInt(bookacti_localized.bookings_tooltip_mouseover_timeout),0),200);bookacti_remove_mouseover_tooltip_monitor=setTimeout(function(){c.remove()},f)}});$j(document).on("click",function(a){if($j(a.target).closest(".bookacti-booking-list-tooltip.bookacti-tooltip-mouseover").length){return}if(typeof bookacti_display_bookings_tooltip_monitor!=="undefined"){if(bookacti_display_bookings_tooltip_monitor){clearTimeout(bookacti_display_bookings_tooltip_monitor)}}});$j(document).on("click",function(a){if($j(a.target).closest(".bookacti-tooltip-mouseover").length){return}if($j(".bookacti-tooltip-mouseover").length){$j(".bookacti-tooltip-mouseover").remove()}});$j("body").on("mouseover",".bookacti-tooltip-mouseover",function(){if(typeof bookacti_remove_mouseover_tooltip_monitor!=="undefined"){if(bookacti_remove_mouseover_tooltip_monitor){clearTimeout(bookacti_remove_mouseover_tooltip_monitor)}}});$j("body").on("mouseout",".bookacti-tooltip-mouseover",function(){var a=$j(this).closest(".bookacti-tooltips-container").find(".bookacti-tooltip-mouseover");if(a.length){var b=Math.min(Math.max(parseInt(bookacti_localized.bookings_tooltip_mouseover_timeout),0),200);bookacti_remove_mouseover_tooltip_monitor=setTimeout(function(){a.remove()},b)}});if($j(".bookacti-booking-system").length){bookacti_init_booking_system_dialogs();$j(".bookacti-booking-system").each(function(){var b=$j(this);var a=b.attr("id");var c=bookacti.booking_system[a];if(typeof bookacti.booking_system[a]["loading_number"]==="undefined"){bookacti.booking_system[a]["loading_number"]=0}if(typeof bookacti.booking_system[a]["picked_events"]==="undefined"){bookacti.booking_system[a]["picked_events"]=[]}var d={load:true,auto_load:c.auto_load?true:false};b.trigger("bookacti_init_booking_sytem",[d,c]);if(d.load){if(d.auto_load){bookacti_booking_method_set_up(b);b.find(".bookacti-loading-alt").remove()}else{bookacti_reload_booking_system(b,true)}}})}});