$j(document).ready(function(){$j("body").on("bookacti_events_picked",".bookacti-booking-system",function(a,b,c,d){a=$j(this);var e=a.attr("id");e=bookacti.booking_system[e];a.siblings(".bookacti-notices").length&&a.siblings(".bookacti-notices").empty();bookacti_set_min_and_max_quantity(a);bookacti_fill_booking_system_fields(a);bookacti_fill_picked_events_list(a);if(!c&&"on_event_click"===e.when_perform_form_action){var f=bookacti_get_event_groups(a,b);f=bookacti_get_event_groups_nb(f);1<f||1===f&&
e.groups_single_events||bookacti_perform_form_action(a)}a.trigger("bookacti_events_picked_after",[b,c,d])});$j("body").on("bookacti_group_of_events_chosen",".bookacti-booking-system",function(a,b,c,d){a=$j(this);var e=a.attr("id");"on_event_click"===bookacti.booking_system[e].when_perform_form_action&&bookacti_perform_form_action(a);a.trigger("bookacti_group_of_events_chosen_after",[b,c,d])});$j("body").on("click",".bookacti-unpick-event-icon",function(a){a=$j(this).closest(".bookacti-picked-events").siblings(".bookacti-booking-system");
var b=$j(this).closest("li").data("group-id"),c=$j(this).closest("li").data("group-date");b?bookacti_unpick_events(a,0,b,c):(b=$j(this).closest("li"),event={id:b.data("event-id"),start:b.data("event-start"),end:b.data("event-end")},bookacti_unpick_events(a,event))});$j("body").on("bookacti_events_unpicked",".bookacti-booking-system",function(a,b,c,d){a=$j(this);b=a.attr("id");b=bookacti.booking_system[b].method;bookacti_set_min_and_max_quantity(a);bookacti_fill_booking_system_fields(a);bookacti_fill_picked_events_list(a);
"calendar"===b&&bookacti_refresh_picked_events_on_calendar($j(this))});$j("body").on("bookacti_events_picked bookacti_events_unpicked",".bookacti-booking-system",function(a,b,c,d){a=$j(this).closest("form").length?$j(this).closest("form"):$j(this).closest(".bookacti-form-fields");a.length&&bookacti_refresh_total_price_field(a)});$j("body").on("bookacti_booking_form_submitted","form.bookacti-temporary-form",function(a,b,c){$j(this).find(".bookacti-form-fields").length&&$j(this).find(".bookacti-form-fields").unwrap("form.bookacti-temporary-form")});
$j("body").on("bookacti_init_booking_sytem",".bookacti-booking-system#bookacti-booking-system-reschedule",function(a,b,c){b.load=!1});$j("body").on("bookacti_calendar_event_mouse_enter bookacti_calendar_event_touch_start",".bookacti-booking-system",function(a,b){var c=$j(this);a=c.attr("id");a=bookacti.booking_system[a];if(a.tooltip_booking_list){var d="undefined"!==typeof b.event.groupId?parseInt(b.event.groupId):parseInt(b.event.id),e=moment.utc(b.event.start).clone().locale("en").format("YYYY-MM-DD HH:mm:ss");
if("undefined"!==typeof a.booking_lists[d]&&"undefined"!==typeof a.booking_lists[d][e]){var f=a.booking_lists[d][e];f&&(a=parseInt(bookacti_localized.event_touch_press_delay),0>a||("undefined"!==typeof bookacti_remove_mouseover_tooltip_monitor&&bookacti_remove_mouseover_tooltip_monitor&&clearTimeout(bookacti_remove_mouseover_tooltip_monitor),bookacti_display_bookings_tooltip_monitor=setTimeout(function(){c.siblings(".bookacti-tooltips-container").find(".bookacti-booking-list-tooltip.bookacti-tooltip-mouseover").remove();
c.siblings(".bookacti-tooltips-container").append('<div class="bookacti-tooltip-container bookacti-booking-list-tooltip bookacti-tooltip-mouseover"><div class="bookacti-tooltip-content bookacti-custom-scrollbar">'+f+"</div></div>");var g=c.siblings(".bookacti-tooltips-container").find(".bookacti-booking-list-tooltip.bookacti-tooltip-mouseover");g.length&&(bookacti_set_tooltip_position($j(b.el),g,"above"),$j("body").trigger("bookacti_event_booking_list_displayed",[g,c,b.event,$j(b.el)]))},a)))}}});
$j("body").on("bookacti_calendar_event_mouse_leave",".bookacti-booking-system",function(a,b){"undefined"!==typeof bookacti_display_bookings_tooltip_monitor&&bookacti_display_bookings_tooltip_monitor&&clearTimeout(bookacti_display_bookings_tooltip_monitor);var c=$j(this).siblings(".bookacti-tooltips-container").find(".bookacti-tooltip-mouseover");c.length&&(a=Math.min(Math.max(parseInt(bookacti_localized.event_touch_press_delay),0),200),bookacti_remove_mouseover_tooltip_monitor=setTimeout(function(){c.remove()},
a))});$j("body").on("bookacti_calendar_event_touch_move bookacti_calendar_event_touch_end bookacti_calendar_event_touch_cancel",".bookacti-booking-system",function(a,b){"undefined"!==typeof bookacti_display_bookings_tooltip_monitor&&bookacti_display_bookings_tooltip_monitor&&clearTimeout(bookacti_display_bookings_tooltip_monitor)});$j(document).on("click",function(a){$j(a.target).closest(".bookacti-tooltip-mouseover").length||$j(".bookacti-tooltip-mouseover").length&&$j(".bookacti-tooltip-mouseover").remove()});
$j("body").on("mouseover",".bookacti-tooltip-mouseover",function(){"undefined"!==typeof bookacti_remove_mouseover_tooltip_monitor&&bookacti_remove_mouseover_tooltip_monitor&&clearTimeout(bookacti_remove_mouseover_tooltip_monitor)});$j("body").on("mouseout",".bookacti-tooltip-mouseover",function(){var a=$j(this).closest(".bookacti-tooltips-container").find(".bookacti-tooltip-mouseover");if(a.length){var b=Math.min(Math.max(parseInt(bookacti_localized.event_touch_press_delay),0),200);bookacti_remove_mouseover_tooltip_monitor=
setTimeout(function(){a.remove()},b)}});$j(".bookacti-booking-system").length&&$j(".bookacti-booking-system").each(function(){var a=$j(this),b=a.attr("id"),c=bookacti.booking_system[b];"undefined"===typeof bookacti.booking_system[b].loading_number&&(bookacti.booking_system[b].loading_number=0);"undefined"===typeof bookacti.booking_system[b].picked_events&&(bookacti.booking_system[b].picked_events=[]);b={load:!0,auto_load:c.auto_load?!0:!1};a.trigger("bookacti_init_booking_sytem",[b,c]);b.load&&(b.auto_load?
(bookacti_remove_loading_html(a),bookacti_booking_method_set_up(a)):bookacti_reload_booking_system(a,!0))})});
