$j(document).ready(function(){$j("body").on("bookacti_events_picked",".bookacti-booking-system",function(c,b,a){if($j(this).siblings(".bookacti-notices").length){$j(this).siblings(".bookacti-notices").empty()}});$j("body").on("bookacti_events_picked",".bookacti-booking-system",function(i,h,g){var b=$j(this);var a=b.attr("id");var c=bookacti.booking_system[a];bookacti_fill_booking_system_fields(b,g,h);bookacti_fill_picked_events_list(b);if(!$j(this).closest("#bookacti-form-editor-page-form").length){var d=bookacti_get_event_group_ids(b,g);var f=false;if($j.isArray(d)&&((d.length>1)||(d.length===1&&c.groups_single_events))){f=true}if(!f){if(h==="single"&&c.when_perform_form_action==="on_event_click"){if(c.form_action==="redirect_to_url"){bookacti_redirect_to_activity_url(b,g)}else{if(c.form_action==="default"){if(!b.closest("form").length&&b.closest(".bookacti-form-fields").length){b.closest(".bookacti-form-fields").wrap('<form class="bookacti-temporary-form"></form>')}if(b.closest("form.bookacti-booking-form").length||b.closest("form.bookacti-temporary-form").length){bookacti_submit_booking_form(b.closest("form"));return}}}}}}b.trigger("bookacti_events_picked_after",[h,g])});$j("body").on("bookacti_group_of_events_chosen",".bookacti-booking-system",function(g,f,d){var b=$j(this);var a=b.attr("id");var c=bookacti.booking_system[a];if(!$j(this).closest("#bookacti-form-editor-page-form").length){if(c.when_perform_form_action==="on_event_click"){if(c.form_action==="redirect_to_url"){if(f==="single"){bookacti_redirect_to_activity_url(b,d)}else{if($j.isNumeric(f)){bookacti_redirect_to_group_category_url(b,f)}}}else{if(c.form_action==="default"){if(!b.closest("form").length&&b.closest(".bookacti-form-fields").length){b.closest(".bookacti-form-fields").wrap('<form class="bookacti-temporary-form"></form>')}if(b.closest("form.bookacti-booking-form").length||b.closest("form.bookacti-temporary-form").length){bookacti_submit_booking_form(b.closest("form"));return}}}}}b.trigger("bookacti_group_of_events_chosen_after",[f,d])});$j("body").on("bookacti_booking_form_submitted","form.bookacti-temporary-form",function(b,a,c){if($j(this).find(".bookacti-form-fields").length){$j(this).find(".bookacti-form-fields").unwrap("form.bookacti-temporary-form")}});$j("body").on("bookacti_init_booking_sytem",".bookacti-booking-system#bookacti-booking-system-reschedule",function(c,b,a){b.load=false});if($j(".bookacti-booking-system").length){bookacti_init_booking_system_dialogs();$j(".bookacti-booking-system").each(function(){var b=$j(this);var a=b.attr("id");var c=bookacti.booking_system[a];if(typeof bookacti.booking_system[a]["loading_number"]==="undefined"){bookacti.booking_system[a]["loading_number"]=0}if(typeof bookacti.booking_system[a]["picked_events"]==="undefined"){bookacti.booking_system[a]["picked_events"]=[]}var d={load:true,auto_load:c.auto_load?true:false};b.trigger("bookacti_init_booking_sytem",[d,c]);if(d.load){if(d.auto_load){bookacti_booking_method_set_up(b,false);b.find(".bookacti-loading-alt").remove()}else{bookacti_reload_booking_system(b,true)}}})}$j("body").on("bookacti_event_mouse_over",".bookacti-booking-system",function(h,b,g){var a=$j(this);var i=a.attr("id");var f=bookacti.booking_system[i];if(!f.tooltip_booking_list){return}var d=moment.utc(b.start).format("YYYY-MM-DD HH:mm:ss");if(typeof f.booking_lists[b.id]==="undefined"){return}if(typeof f.booking_lists[b.id][d]==="undefined"){return}var c=f.booking_lists[b.id][d];if(!c){return}var j=parseInt(bookacti_localized.bookings_tooltip_mouseover_timeout);if(j<0){return}bookacti_display_bookings_tooltip_monitor=setTimeout(function(){a.siblings(".bookacti-tooltips-container").find(".bookacti-booking-list-tooltip.bookacti-tooltip-mouseover").remove();a.siblings(".bookacti-tooltips-container").append('<div class="bookacti-tooltip-container bookacti-booking-list-tooltip bookacti-tooltip-mouseover"><div class="bookacti-tooltip-content bookacti-custom-scrollbar">'+c+"</div></div>");var e=a.siblings(".bookacti-tooltips-container").find(".bookacti-booking-list-tooltip.bookacti-tooltip-mouseover");bookacti_set_tooltip_position(g,e,"above");$j("body").trigger("bookacti_event_booking_list_displayed",[e,a,b,g])},j)});$j("body").on("bookacti_event_mouse_out",".bookacti-booking-system",function(d,b,a){if(typeof bookacti_display_bookings_tooltip_monitor!=="undefined"){if(bookacti_display_bookings_tooltip_monitor){clearTimeout(bookacti_display_bookings_tooltip_monitor)}}var c=$j(this).siblings(".bookacti-tooltips-container").find(".bookacti-tooltip-mouseover");if(c.length){var f=Math.min(Math.max(parseInt(bookacti_localized.bookings_tooltip_mouseover_timeout),0),200);bookacti_remove_mouseover_tooltip_monitor=setTimeout(function(){c.remove()},f)}});$j("body").on("mouseover",".bookacti-tooltip-mouseover",function(){if(typeof bookacti_remove_mouseover_tooltip_monitor!=="undefined"){if(bookacti_remove_mouseover_tooltip_monitor){clearTimeout(bookacti_remove_mouseover_tooltip_monitor)}}});$j("body").on("mouseout",".bookacti-tooltip-mouseover",function(){var a=$j(this).closest(".bookacti-tooltips-container").find(".bookacti-tooltip-mouseover");if(a.length){var b=Math.min(Math.max(parseInt(bookacti_localized.bookings_tooltip_mouseover_timeout),0),200);bookacti_remove_mouseover_tooltip_monitor=setTimeout(function(){a.remove()},b)}})});