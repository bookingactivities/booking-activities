$j(document).ready(function(){var b=$j("#bookacti-booking-system-bookings-page");var a=b.attr("id");if(!b.length){return false}bookacti_init_booking_filters_actions();b.on("bookacti_event_render",function(j,h,f,c){f=f||undefined;var g=bookacti.booking_system[a]["events_data"][h.id]["activity_id"];var d=$j("#bookacti-booking-filter-activities").val()?$j("#bookacti-booking-filter-activities").val():[];if(d.length&&$j.inArray(g,d)===-1){h.render=0}if(typeof f!=="undefined"){var i=parseInt(bookacti.booking_system[a]["events_data"][h.id]["availability"]);f.find(".bookacti-availability-container .bookacti-available-places").append(' / <span class="bookacti-total-places-number">'+i+"</span>")}});b.on("bookacti_after_calendar_set_up",function(){bookacti_refresh_calendar_according_to_date_filter()});$j("#bookacti-bookings-list").on("bookacti_booking_list_filled bookacti_grouped_bookings_displayed",function(){bookacti_init_tooltip()});$j("body").on("bookacti_booking_rescheduled",function(){bookacti_init_tooltip();var c=$j("#bookacti-booking-system-bookings-page");bookacti_booking_method_refetch_events(c);bookacti_refresh_booking_numbers(c)});$j("body").on("bookacti_booking_state_changed",function(k,c,h,g,f,j,i){bookacti_init_tooltip();if(!i){return false}var d=$j("#bookacti-booking-system-bookings-page");bookacti_refresh_booking_numbers(d)});$j("body").on("bookacti_booking_refunded",function(){bookacti_init_tooltip();var c=$j("#bookacti-booking-system-bookings-page");bookacti_refresh_booking_numbers(c)})});