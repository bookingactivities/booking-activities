$j(document).ready(function(){bookacti_select2_init();moment.locale(bookacti_localized.fullcalendar_locale);bookacti_init_moment_format_from_php_date_format();var a=typeof $j.fn.modal!=="undefined";if(a){$j(document).on("click",function(b){if($j(b.target).closest(".bookacti-bs-tooltip").length){return}$j(".bookacti-tip").tooltip("hide");if(typeof bookacti_bs_display_bookings_tooltip_monitor!=="undefined"){if(bookacti_bs_display_bookings_tooltip_monitor){clearTimeout(bookacti_bs_display_bookings_tooltip_monitor)}}});$j("body").on("mouseover",".bookacti-bs-tooltip",function(){if(typeof bookacti_bs_remove_mouseover_tooltip_monitor!=="undefined"){if(bookacti_bs_remove_mouseover_tooltip_monitor){clearTimeout(bookacti_bs_remove_mouseover_tooltip_monitor)}}});$j("body").on("mouseout",".bookacti-bs-tooltip",function(){var b=Math.min(Math.max(parseInt(bookacti_localized.bookings_tooltip_mouseover_timeout),0),200);var c=this;bookacti_bs_remove_mouseover_tooltip_monitor=setTimeout(function(){$j(c).tooltip("hide")},b)})}});var supportsPassive=false;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=true}});window.addEventListener("testPassive",null,opts);window.removeEventListener("testPassive",null,opts)}catch(e){}window.addEventListener("touchstart",function bookacti_detect_touch_device(){bookacti.is_touch_device=true;window.removeEventListener("touchstart",bookacti_detect_touch_device)},supportsPassive?{passive:true}:false);function bookacti_init_tooltip(){var b=typeof $j.fn.modal!=="undefined";if(b){var c={title:function(){return $j(this).data("tip")},trigger:"manual",animation:true,html:true,template:'<div class="tooltip bookacti-bs-tooltip bookacti-tip-container" role="tooltip"><div class="arrow"></div><div class="tooltip-inner bookacti-custom-scrollbar"></div></div>'};$j(".bookacti-tip").tooltip(c).on("mouseover touchstart",function(){var d=parseInt(bookacti_localized.bookings_tooltip_mouseover_timeout);if(d<0){return}if(typeof bookacti_bs_remove_mouseover_tooltip_monitor!=="undefined"){if(bookacti_bs_remove_mouseover_tooltip_monitor){clearTimeout(bookacti_bs_remove_mouseover_tooltip_monitor)}}var f=this;bookacti_bs_display_bookings_tooltip_monitor=setTimeout(function(){$j(f).tooltip("show")},d)}).on("mouseout",function(){if(typeof bookacti_bs_display_bookings_tooltip_monitor!=="undefined"){if(bookacti_bs_display_bookings_tooltip_monitor){clearTimeout(bookacti_bs_display_bookings_tooltip_monitor)}}var d=Math.min(Math.max(parseInt(bookacti_localized.bookings_tooltip_mouseover_timeout),0),200);var f=this;bookacti_bs_remove_mouseover_tooltip_monitor=setTimeout(function(){$j(f).tooltip("hide")},d)});$j(".bookacti-tip").tooltip("hide")}else{var a={items:"[data-tip]",content:function(){return $j(this).data("tip")},show:{effect:"fadeIn",duration:200},hide:{effect:"fadeOut",duration:200},close:function(d,f){f.tooltip.hover(function(){$j(this).stop(true).fadeTo(200,1)},function(){$j(this).fadeOut("200",function(){$j(this).remove()})})},tooltipClass:"bookacti-tip-container bookacti-custom-scrollbar"};$j(".bookacti-tip").tooltip(a);$j(".bookacti-tip").tooltip("close")}}function bookacti_scroll_to(c,d,a){d=$j.isNumeric(d)?parseInt(d):500;a=a!=="middle"?"top":"middle";var h=typeof c==="number"?c:(c.length?c.offset().top:$j(document).scrollTop());var f=h;if(a==="middle"&&typeof c!=="number"&&c.length){var b=c.height();var g=$j(window).height();if(b<g){f=h-((g/2)-(b/2))}}$j("html, body").animate({scrollTop:f},d)}function bookacti_pad(b,a){b=b.toString();return b.length<a?bookacti_pad("0"+b,a):b}function bookacti_compare_arrays(b,a){return $j(b).not(a).length===0&&$j(a).not(b).length===0}$j.fn.serializeObject=function(){var a={};function d(h,j){if(h.length<1){return j}var g=h[0];if(g.slice(-1)=="]"){g=g.slice(0,-1)}var f={};if(h.length==1){f[g]=j}else{h.shift();var i=d(h,j);f[g]=i}return f}function c(f){var g=[];$j.each(f.serializeArray(),function(i,k){if(k.name.indexOf("[]")<0){g.push(k);return true}var j=k.name.split("[]")[0];var h=false;$j.each(g,function(l,m){if(m.name===j){h=true;g[l]["value"].push(k.value)}});if(!h){g.push({name:j,value:[k.value]})}});return g}var b=c(this);$j.each(b,function(){var g=this.value;var h=this.name.split("[");var f=d(h,g);$j.extend(true,a,f)});return a};function bookacti_select2_init(){if(!$j.fn.select2){return}$j(".bookacti-select2-no-ajax:not(.select2-hidden-accessible)").select2({language:bookacti_localized.fullcalendar_locale,minimumResultsForSearch:10,width:"element",dropdownAutoWidth:true,dropdownParent:$j(this).closest(".bookacti-backend-dialog").length?$j(this).closest(".bookacti-backend-dialog"):$j("body"),escapeMarkup:function(a){return a}});$j(".bookacti-select2-ajax:not(.select2-hidden-accessible)").select2({language:bookacti_localized.fullcalendar_locale,minimumInputLength:3,width:"element",dropdownAutoWidth:true,dropdownParent:$j(this).closest(".bookacti-backend-dialog").length?$j(this).closest(".bookacti-backend-dialog"):$j("body"),escapeMarkup:function(a){return a},ajax:{url:bookacti_localized.ajaxurl,dataType:"json",delay:1000,data:function(c){var b=$j(this).data("type")?$j(this).data("type").trim():"";var a={term:c.term,action:b?"bookactiSelect2Query_"+b:"bookactiSelect2Query",name:$j(this).attr("name")?$j(this).attr("name"):"",id:$j(this).attr("id")?$j(this).attr("id"):"",allow_current:$j(this).find('option[value="current"]').length?1:0,nonce:bookacti_localized.nonce_query_select2_options};$j(this).trigger("bookacti_select2_query_data",[a]);return a},processResults:function(c){var a=[];if(typeof c.options!=="undefined"){a=c.options}var b={results:a};$j(this).trigger("bookacti_select2_query_results",[b,c]);return b},cache:true}})}function bookacti_init_moment_format_from_php_date_format(){(function(b){var a={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:function(){return"["+this.format("Do").replace(/\d*/g,"")+"]"},w:"d",z:function(){return this.format("DDD")-1},W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:function(){return this.daysInMonth()},L:function(){return this.isLeapYear()?1:0},o:"GGGG",Y:"YYYY",y:"YY",a:"a",A:"A",B:function(){var f=this.clone().utc(),d=((f.hours()+1)%24)+(f.minutes()/60)+(f.seconds()/3600);return Math.floor(d*1000/24)},g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"[u]",e:"[e]",I:function(){return this.isDST()?1:0},O:"ZZ",P:"Z",T:"[T]",Z:function(){return parseInt(this.format("ZZ"),10)*36},c:"YYYY-MM-DD[T]HH:mm:ssZ",r:"ddd, DD MMM YYYY HH:mm:ss ZZ",U:"X"},c=/[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g;moment.fn.formatPHP=function(f){var d=this;return this.format(f.replace(c,function(g){return typeof a[g]==="function"?a[g].call(d):a[g]}))}}(moment))}function bookacti_convert_php_datetime_format_to_moment_js(a){var c={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",w:"d",W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",o:"GGGG",Y:"YYYY",y:"YY",a:"a",A:"A",g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"[u]",e:"[e]",O:"ZZ",P:"Z",T:"[T]",c:"YYYY-MM-DD[T]HH:mm:ssZ",r:"ddd, DD MMM YYYY HH:mm:ss ZZ",U:"X"};window.has_backslash=false;var b=a.replace(/[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU\\]/g,function(d){if(d==="\\"){window.has_backslash=true;return""}moment_js_str=window.has_backslash?"["+d+"]":c[d];window.has_backslash=false;return moment_js_str});return b}function bookacti_get_url_parameter(a){var b=window.location.search.substring(1);var f=b.split("&");for(var c=0;c<f.length;c++){var d=f[c].split("=");if(d[0]==a){return decodeURIComponent(d[1].replace(/\+/g,"%20"))}}return null};