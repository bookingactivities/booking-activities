$j(document).ready(function(){bookacti_select2_init(),moment.locale(bookacti_localized.fullcalendar_locale),bookacti_init_moment_format_from_php_date_format(),void 0!==$j.fn.modal&&($j(document).on("click",function(a){!$j(a.target).closest(".bookacti-bs-tooltip").length&&($j(".bookacti-tip").tooltip("hide"),"undefined"!=typeof bookacti_bs_display_bookings_tooltip_monitor&&bookacti_bs_display_bookings_tooltip_monitor&&clearTimeout(bookacti_bs_display_bookings_tooltip_monitor))}),$j("body").on("mouseover",".bookacti-bs-tooltip",function(){"undefined"!=typeof bookacti_bs_remove_mouseover_tooltip_monitor&&bookacti_bs_remove_mouseover_tooltip_monitor&&clearTimeout(bookacti_bs_remove_mouseover_tooltip_monitor)}),$j("body").on("mouseout",".bookacti-bs-tooltip",function(){var a=Math.min(Math.max(parseInt(bookacti_localized.bookings_tooltip_mouseover_timeout),0),200),b=this;bookacti_bs_remove_mouseover_tooltip_monitor=setTimeout(function(){$j(b).tooltip("hide")},a)}))});var supportsPassive=!1;try{var a=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("testPassive",null,a),window.removeEventListener("testPassive",null,a)}catch(b){}function bookacti_init_tooltip(){"function"==typeof $j.fn.tipTip&&$j(".bookacti-tip").tipTip({attribute:"data-tip",fadeIn:200,fadeOut:200,delay:200,maxWidth:"300px",keepAlive:!0})}function bookacti_get_loading_html(){return'<div class="bookacti-loading-container"><div class="bookacti-loading-image"><div class="bookacti-spinner"></div></div><div class="bookacti-loading-text">'+bookacti_localized.loading+"</div></div>"}function bookacti_add_loading_html(b,a){a=a||"append";var c=bookacti_get_loading_html();"before"===a?b.before(c):"after"===a?b.after(c):"prepend"===a?b.prepend(c):b.append(c)}function bookacti_remove_loading_html(a){a.find(".bookacti-loading-container").addBack(".bookacti-loading-container").remove()}function bookacti_scroll_to(a,b,c){b=$j.isNumeric(b)?parseInt(b):500,c="middle"!==c?"top":"middle";var d="number"==typeof a?a:a.length?a.offset().top:$j(document).scrollTop(),e=d;if("middle"===c&&"number"!=typeof a&&a.length){var f=a.height(),g=$j(window).height();f<g&&(e=d-(g/2-f/2))}$j("html, body").animate({scrollTop:e},b)}function bookacti_pad(a,b){return(a=a.toString()).length<b?bookacti_pad("0"+a,b):a}function bookacti_compare_arrays(a,b){return 0===$j(a).not(b).length&&0===$j(b).not(a).length}function bookacti_select2_init(){$j.fn.select2&&($j(".bookacti-select2-no-ajax:not(.select2-hidden-accessible)").select2({language:bookacti_localized.fullcalendar_locale,minimumResultsForSearch:1,width:"element",dropdownAutoWidth:!0,dropdownParent:$j(this).closest(".bookacti-backend-dialog").length?$j(this).closest(".bookacti-backend-dialog"):$j("body"),escapeMarkup:function(a){return a}}),$j(".bookacti-select2-ajax:not(.select2-hidden-accessible)").select2({language:bookacti_localized.fullcalendar_locale,minimumInputLength:3,width:"element",dropdownAutoWidth:!0,dropdownParent:$j(this).closest(".bookacti-backend-dialog").length?$j(this).closest(".bookacti-backend-dialog"):$j("body"),escapeMarkup:function(a){return a},ajax:{url:bookacti_localized.ajaxurl,dataType:"json",delay:1e3,data:function(c){var a=$j(this).data("type")?$j(this).data("type").trim():"",b={term:c.term,action:a?"bookactiSelect2Query_"+a:"bookactiSelect2Query",name:$j(this).attr("name")?$j(this).attr("name"):"",id:$j(this).attr("id")?$j(this).attr("id"):"",allow_current:$j(this).find('option[value="current"]').length?1:0,nonce:bookacti_localized.nonce_query_select2_options};return $j(this).trigger("bookacti_select2_query_data",[b]),b},processResults:function(a){var b=[];void 0!==a.options&&(b=a.options);var c={results:b};return $j(this).trigger("bookacti_select2_query_results",[c,a]),c},cache:!0}}))}function bookacti_init_moment_format_from_php_date_format(){var a;moment,a={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:function(){return"["+this.format("Do").replace(/\d*/g,"")+"]"},w:"d",z:function(){return this.format("DDD")-1},W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:function(){return this.daysInMonth()},L:function(){return this.isLeapYear()?1:0},o:"GGGG",Y:"YYYY",y:"YY",a:"a",A:"A",B:function(){var a=this.clone().utc();return Math.floor(1e3*((a.hours()+1)%24+a.minutes()/60+a.seconds()/3600)/24)},g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"[u]",e:"[e]",I:function(){return this.isDST()?1:0},O:"ZZ",P:"Z",T:"[T]",Z:function(){return 36*parseInt(this.format("ZZ"),10)},c:"YYYY-MM-DD[T]HH:mm:ssZ",r:"ddd, DD MMM YYYY HH:mm:ss ZZ",U:"X"},moment.fn.formatPHP=function(b){var c=this;return escape=!1,this.format(b.replace(/./g,function(b){return escape?(escape=!1,"["+b+"]"):"\\"===b?(escape=!0,""):void 0===a[b]?"["+b+"]":"function"==typeof a[b]?a[b].call(c):a[b]}))}}function bookacti_convert_php_datetime_format_to_moment_js(a){if("string"!=typeof a||!a.length)return"";for(var e={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",w:"d",W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",o:"GGGG",Y:"YYYY",y:"YY",a:"a",A:"A",g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"X",e:"z",O:"ZZ",P:"Z",T:"z",c:"YYYY-MM-DD[T]HH:mm:ssZ",r:"ddd, DD MMM YYYY HH:mm:ss ZZ",U:"X"},b=!1,f="",d=0;d<a.length;d++){var c=a[d];if("\\"===c&&!b){b=!0;continue}f+=b|| void 0===e[c]?"["+c+"]":e[c],b=!1}return f}function bookacti_convert_php_datetime_format_to_fc_date_formatting_object(a){if("string"!=typeof a||!a.length)return{};for(var e={d:{day:"2-digit"},D:{weekday:"short"},j:{day:"numeric"},l:{weekday:"long"},N:{},w:{},W:{week:"numeric"},F:{month:"long"},m:{month:"2-digit"},M:{month:"short"},n:{month:"numeric"},o:{year:"numeric"},Y:{year:"numeric"},y:{year:"2-digit"},a:{meridiem:"lowercase"},A:{},g:{hour:"numeric",hour12:!0},G:{hour:"numeric",hour12:!1},h:{hour:"2-digit",hour12:!0},H:{hour:"2-digit",hour12:!1},i:{minute:"2-digit"},s:{second:"2-digit"},u:{timeZoneName:"short"},e:{timeZoneName:"short"},O:{},P:{},T:{timeZoneName:"short"},c:{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"},r:{year:"numeric",month:"short",day:"2-digit",weekday:"short",hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"},U:{}},f={meridiem:!1},b=!1,c=0;c<a.length;c++){var d=a[c];if("\\"===d&&!b){b=!0;continue}b|| void 0===e[d]||$j.extend(!0,f,e[d]),b=!1}return f}function bookacti_get_url_parameter(d){for(var b=window.location.search.substring(1).split("&"),a=0;a<b.length;a++){var c=b[a].split("=");if(c[0]==d)return decodeURIComponent(c[1].replace(/\+/g,"%20"))}return""}function bookacti_format_price(b){var a="";if(!$j.isNumeric(b))return a;var d=(b=parseFloat(b))<0;d&&(b*=-1),-1===parseFloat(a=b.toFixed(parseInt(bookacti_localized.price_decimal_number))).toString().indexOf(".")&&(a=parseFloat(a));var c=a.toString().split(".");return c[0]=c[0].replace(/\B(?=(\d{3})+(?!\d))/g,bookacti_localized.price_thousand_separator),a=c.join(bookacti_localized.price_decimal_separator),a=bookacti_localized.price_format.replace("{price}",a),d&&(a="-"+a),a}window.addEventListener("touchstart",function a(){bookacti.is_touch_device=!0,window.removeEventListener("touchstart",a)},!!supportsPassive&&{passive:!0}),$j.fn.serializeObject=function(){var c={};function e(a,c){if(a.length<1)return c;var b=a[0];"]"==b.slice(-1)&&(b=b.slice(0,-1));var d={};if(1==a.length)d[b]=c;else{a.shift();var f=e(a,c);d[b]=f}return d}var a,b,d=(a=this,b=[],$j.each(a.serializeArray(),function(e,a){if(0>a.name.indexOf("[]"))return b.push(a),!0;var c=a.name.split("[]")[0],d=!1;$j.each(b,function(e,f){f.name===c&&(d=!0,b[e].value.push(a.value))}),d||b.push({name:c,value:[a.value]})}),b);return $j.each(d,function(){var a=this.value,b=e(this.name.split("["),a);$j.extend(!0,c,b)}),c}