$j(document).ready(function(){bookacti_show_hide_activity_tab();$j(".type_box select, .type_box input").on("change",function(){$j(this).is("#_bookacti_is_activity")&&$j("#_bookacti_is_activity").is(":checked")&&!$j("#_virtual").is(":checked")&&$j("#_virtual").prop("checked",!0).trigger("change");bookacti_show_hide_activity_tab()});$j("#woocommerce-product-data").on("change","#_bookacti_form, .bookacti_variable_form",function(){var a=$j('.bookacti-form-selectbox-link[data-form-selectbox-id="'+$j(this).attr("id")+
'"] a');a.length&&(0==$j(this).val()?a.parent().hide():(a.attr("href",bookacti_localized.admin_url+"admin.php?page=bookacti_forms&action=edit&form_id="+$j(this).val()),a.parent().show()))});$j("#woocommerce-product-data").on("woocommerce_variations_loaded",function(){bookacti_show_hide_activity_variation_fields()});$j("#woocommerce-product-data").on("change",".bookacti_variable_is_activity",function(){bookacti_show_hide_activity_variation_fields(this);var a=$j(this).closest(".options").find(".variable_is_virtual");
$j(this).is(":checked")&&!a.is(":checked")&&a.prop("checked",!0).trigger("change")});$j(".bookacti-user-booking-list-table, .woocommerce-table, #bookacti-booking-list").on("click",".bookacti-booking-action, .bookacti-booking-group-action",function(a){a.preventDefault();($j(this).hasClass("bookacti-delete-booking")||$j(this).hasClass("bookacti-delete-booking-group"))&&$j(".bookacti-delete-wc-order-item-container select").val("none");a=!1;if($j(this).hasClass("bookacti-delete-booking")){var c=$j(this).data("booking-id");
$j('.bookacti-view-booking-order[data-booking-id="'+c+'"]').length&&!$j('.bookacti-view-booking-order[data-booking-id="'+c+'"]').closest(".bookacti-gouped-booking").length&&(a=!0)}else $j(this).hasClass("bookacti-delete-booking-group")&&(c=$j(this).data("booking-group-id"),$j('.bookacti-view-booking-order[data-booking-group-id="'+c+'"]').length&&(a=!0));a?$j(".bookacti-delete-wc-order-item-container").show():$j(".bookacti-delete-wc-order-item-container").hide()});$j("#bookacti-form-field-dialog-calendar").on("change",
"select#bookacti-form_action",function(){var a=$j(this).val();$j(".bookacti-form-action-with-wc-notice").toggle("default"!==a);$j(".bookacti-add-product-to-cart-form-action-notice").toggle("add_product_to_cart"===a)});$j("#woocommerce-product-data").on("keyup mouseup change","#_regular_price",function(){bookacti_show_hide_empty_price_notice()});$j("#woocommerce-product-data").on("keyup mouseup change",'.woocommerce_variation .wc_input_price[name^="variable_regular_price["]',function(){var a=$j(this).closest(".woocommerce_variation").find(".variation_menu_order").length?
$j(this).closest(".woocommerce_variation").find(".variation_menu_order").val():0;bookacti_show_hide_empty_price_notice(a)});$j("#woocommerce-product-data").on("change","#product-type",function(){bookacti_show_hide_empty_price_notice()});$j("#woocommerce-product-data").on("change","#_bookacti_is_activity",function(){bookacti_show_hide_empty_price_notice()});$j("#woocommerce-product-data").on("change",".woocommerce_variation .bookacti_variable_is_activity",function(){var a=$j(this).closest(".woocommerce_variation").find(".variation_menu_order").length?
$j(this).closest(".woocommerce_variation").find(".variation_menu_order").val():0;bookacti_show_hide_empty_price_notice(a)});bookacti_show_hide_empty_price_notice();$j("#woocommerce-product-data").on("woocommerce_variations_loaded",function(){$j("#woocommerce-product-data .woocommerce_variation").each(function(){var a=$j(this).find(".variation_menu_order").length?$j(this).find(".variation_menu_order").val():0;bookacti_show_hide_empty_price_notice(a)})});$j("#woocommerce-product-data").length&&bookacti_wpml_wc_lock_product_fields('#woocommerce-product-data [name^="_bookacti"]:input');
$j("#woocommerce-product-data").on("woocommerce_variations_loaded",function(){bookacti_wpml_wc_lock_product_fields('#variable_product_options [name^="bookacti_"]:input')})});
function bookacti_show_hide_activity_tab(){$j(".bookacti_show_if_activity").hide();$j("#_bookacti_is_activity").is(":checked")?($j('label[for="_bookacti_is_activity"]').is(":visible")&&$j(".bookacti_show_if_activity").show(),$j(".bookacti_hide_if_activity").hide()):($j(".bookacti_hide_if_activity").show(),$j("#_virtual").is(":checked")&&$j(".bookacti_hide_if_activity.hide_if_virtual").hide())}
function bookacti_show_hide_activity_variation_fields(a){(a=a||null)?$j(a).is(":checked")?$j(a).closest(".woocommerce_variation").find(".show_if_variation_activity").show():$j(a).closest(".woocommerce_variation").find(".show_if_variation_activity").hide():($j(".show_if_variation_activity").hide(),$j(".bookacti_variable_is_activity").each(function(){$j(this).is(":checked")&&$j(this).closest(".woocommerce_variation").find(".show_if_variation_activity").show()}))}
function bookacti_show_hide_empty_price_notice(a){a=parseInt(a)||"product";$j("#woocommerce-product-data .bookacti-empty-product-price-notice").remove();var c='<div class="bookacti-empty-product-price-notice">'+bookacti_localized.empty_product_price+"</div>",b=",";"undefined"!==typeof woocommerce_admin&&"undefined"!==typeof woocommerce_admin.mon_decimal_point&&(b=woocommerce_admin.mon_decimal_point);"product"===a?(b=$j("#_regular_price").length?$j("#_regular_price").val().replace(b,"."):"",a=$j.isNumeric(b)?
parseFloat(b):"",!a&&0!==a&&"0"!==a&&$j("#_bookacti_is_activity").is(":checked")&&$j("#_regular_price, #_bookacti_form").after(c)):a&&(--a,b=$j('input[name="variable_regular_price['+a+']"]').length?$j('input[name="variable_regular_price['+a+']"]').val().replace(b,"."):"",b=$j.isNumeric(b)?parseFloat(b):"",!b&&0!==b&&"0"!==b&&$j("#bookacti_variable_is_activity_"+a).is(":checked")&&$j('input[name="variable_regular_price['+a+']"], #bookacti_variable_form_'+a).after(c))}
function bookacti_wpml_wc_lock_product_fields(a){$j(".wcml_lock_img").length&&$j(a).length&&$j(a).each(function(){"checkbox"===$j(this).attr("type")||$j(this).is("select")?($j(this).prop("disabled",!0),$j(this).after($j(".wcml_lock_img").clone().removeClass("wcml_lock_img").show()),$j('input[name="'+$j(this).attr("name")+'"]').length?$j('input[name="'+$j(this).attr("name")+'"]').val($j(this).val()):$j(this).after('<input type="hidden" name="'+$j(this).attr("name")+'" value="'+$j(this).val()+'" />')):
"hidden"!==$j(this).attr("type")&&($j(this).prop("readonly",!0),$j(this).after($j(".wcml_lock_img").clone().removeClass("wcml_lock_img").show()))})};
