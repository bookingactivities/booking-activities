if(typeof $j==="undefined"){$j=jQuery.noConflict()}$j(document).ready(function(){bookacti_show_hide_activity_tab();$j(".type_box select, .type_box input").on("change",function(){if($j(this).is("#_bookacti_is_activity")&&$j("#_bookacti_is_activity").is(":checked")&&!$j("#_virtual").is(":checked")){$j("#_virtual").prop("checked",true).trigger("change")}bookacti_show_hide_activity_tab()});$j("#woocommerce-product-data").on("change","#_bookacti_form, .bookacti_variable_form",function(){var a=$j('.bookacti-form-selectbox-link[data-form-selectbox-id="'+$j(this).attr("id")+'"] a');if(!a.length){return}if($j(this).val()==0){a.parent().hide()}else{a.attr("href",bookacti_localized.admin_url+"admin.php?page=bookacti_forms&action=edit&form_id="+$j(this).val());a.parent().show()}});$j("#woocommerce-product-data").on("woocommerce_variations_loaded",function(){bookacti_show_hide_activity_variation_fields()});$j("#woocommerce-product-data").on("change",".bookacti_variable_is_activity",function(){bookacti_show_hide_activity_variation_fields(this);var a=$j(this).closest(".options").find(".variable_is_virtual");if($j(this).is(":checked")&&!a.is(":checked")){a.prop("checked",true).trigger("change")}});$j(".bookacti-user-booking-list-table, .woocommerce-table, #bookacti-booking-list").on("click",".bookacti-booking-action, .bookacti-booking-group-action",function(c){c.preventDefault();if($j(this).hasClass("bookacti-delete-booking")||$j(this).hasClass("bookacti-delete-booking-group")){$j(".bookacti-delete-wc-order-item-container select").val("none")}var d=false;if($j(this).hasClass("bookacti-delete-booking")){var b=$j(this).data("booking-id");if($j('.bookacti-view-booking-order[data-booking-id="'+b+'"]').length&&!$j('.bookacti-view-booking-order[data-booking-id="'+b+'"]').closest(".bookacti-gouped-booking").length){d=true}}else{if($j(this).hasClass("bookacti-delete-booking-group")){var a=$j(this).data("booking-group-id");if($j('.bookacti-view-booking-order[data-booking-group-id="'+a+'"]').length){d=true}}}if(d){$j(".bookacti-delete-wc-order-item-container").show()}else{$j(".bookacti-delete-wc-order-item-container").hide()}});$j("#bookacti-form-field-dialog-calendar").on("change","select#bookacti-form_action",function(){var a=$j(this).val();$j(".bookacti-form-action-with-wc-notice").toggle(a!=="default");$j(".bookacti-add-product-to-cart-form-action-notice").toggle(a==="add_product_to_cart")});$j("#woocommerce-product-data").on("keyup mouseup change","#_regular_price",function(){bookacti_show_hide_empty_price_notice()});$j("#woocommerce-product-data").on("keyup mouseup change",'.woocommerce_variation .wc_input_price[name^="variable_regular_price["]',function(){var a=$j(this).closest(".woocommerce_variation").find(".variation_menu_order").length?$j(this).closest(".woocommerce_variation").find(".variation_menu_order").val():0;bookacti_show_hide_empty_price_notice(a)});$j("#woocommerce-product-data").on("change","#product-type",function(){bookacti_show_hide_empty_price_notice()});$j("#woocommerce-product-data").on("change","#_bookacti_is_activity",function(){bookacti_show_hide_empty_price_notice()});$j("#woocommerce-product-data").on("change",".woocommerce_variation .bookacti_variable_is_activity",function(){var a=$j(this).closest(".woocommerce_variation").find(".variation_menu_order").length?$j(this).closest(".woocommerce_variation").find(".variation_menu_order").val():0;bookacti_show_hide_empty_price_notice(a)});bookacti_show_hide_empty_price_notice();$j("#woocommerce-product-data").on("woocommerce_variations_loaded",function(){$j("#woocommerce-product-data .woocommerce_variation").each(function(){var a=$j(this).find(".variation_menu_order").length?$j(this).find(".variation_menu_order").val():0;bookacti_show_hide_empty_price_notice(a)})});if($j("#woocommerce-product-data").length){bookacti_wpml_wc_lock_product_fields('#woocommerce-product-data [name^="_bookacti"]:input')}$j("#woocommerce-product-data").on("woocommerce_variations_loaded",function(){bookacti_wpml_wc_lock_product_fields('#variable_product_options [name^="bookacti_"]:input')})});function bookacti_show_hide_activity_tab(){$j(".bookacti_show_if_activity").hide();if($j("#_bookacti_is_activity").is(":checked")){if($j('label[for="_bookacti_is_activity"]').is(":visible")){$j(".bookacti_show_if_activity").show()}$j(".bookacti_hide_if_activity").hide()}else{$j(".bookacti_hide_if_activity").show();if($j("#_virtual").is(":checked")){$j(".bookacti_hide_if_activity.hide_if_virtual").hide()}}}function bookacti_show_hide_activity_variation_fields(a){a=a||null;if(!a){$j(".show_if_variation_activity").hide();$j(".bookacti_variable_is_activity").each(function(){if($j(this).is(":checked")){$j(this).closest(".woocommerce_variation").find(".show_if_variation_activity").show()}})}else{if($j(a).is(":checked")){$j(a).closest(".woocommerce_variation").find(".show_if_variation_activity").show()}else{$j(a).closest(".woocommerce_variation").find(".show_if_variation_activity").hide()}}}function bookacti_show_hide_empty_price_notice(e){e=parseInt(e)||"product";$j("#woocommerce-product-data .bookacti-empty-product-price-notice").remove();var f='<div class="bookacti-empty-product-price-notice">'+bookacti_localized.empty_product_price+"</div>";var d=",";if(typeof woocommerce_admin!=="undefined"){if(typeof woocommerce_admin.mon_decimal_point!=="undefined"){d=woocommerce_admin.mon_decimal_point}}if(e==="product"){var c=$j("#_regular_price").length?$j("#_regular_price").val().replace(d,"."):"";var b=$j.isNumeric(c)?parseFloat(c):"";if(!b&&b!==0&&b!=="0"&&$j("#_bookacti_is_activity").is(":checked")){$j("#_regular_price, #_bookacti_form").after(f)}}else{if(e){var g=e-1;var c=$j('input[name="variable_regular_price['+g+']"]').length?$j('input[name="variable_regular_price['+g+']"]').val().replace(d,"."):"";var a=$j.isNumeric(c)?parseFloat(c):"";if(!a&&a!==0&&a!=="0"&&$j("#bookacti_variable_is_activity_"+g).is(":checked")){$j('input[name="variable_regular_price['+g+']"], #bookacti_variable_form_'+g).after(f)}}}}function bookacti_wpml_wc_lock_product_fields(a){if(!$j(".wcml_lock_img").length||!$j(a).length){return}$j(a).each(function(){if($j(this).attr("type")==="checkbox"||$j(this).is("select")){$j(this).prop("disabled",true);$j(this).after($j(".wcml_lock_img").clone().removeClass("wcml_lock_img").show());if($j('input[name="'+$j(this).attr("name")+'"]').length){$j('input[name="'+$j(this).attr("name")+'"]').val($j(this).val())}else{$j(this).after('<input type="hidden" name="'+$j(this).attr("name")+'" value="'+$j(this).val()+'" />')}}else{if($j(this).attr("type")!=="hidden"){$j(this).prop("readonly",true);$j(this).after($j(".wcml_lock_img").clone().removeClass("wcml_lock_img").show())}}})};